<?xml version="1.0" encoding="UTF-8"?>
<!-- XML 선언: 문서가 UTF-8 인코딩의 XML임을 알림 -->

<!-- JavaFX 레이아웃 컨테이너들(BorderPane, HBox, VBox, SplitPane 등)을 사용하기 위한 import -->
<?import javafx.scene.layout.*?>
<!-- JavaFX 컨트롤들(Label, ListView, TextArea, TextField, Button)을 사용하기 위한 import -->
<?import javafx.scene.control.*?>
<!-- 여백(padding) 지정에 쓰는 Insets 클래스를 사용하기 위한 import -->
<?import javafx.geometry.Insets?>

<!-- 루트 컨테이너: BorderPane
     - xmlns: JavaFX 런타임 버전 네임스페이스(여기선 17)
     - xmlns:fx: FXML 네임스페이스
     - fx:controller: 이 FXML을 제어할 컨트롤러 클래스(컨트롤러에 @FXML 필드/메서드가 있어야 함) -->
<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mycompany.chat.ChatTabController">

    <!-- 상단(top) 영역: 방 이름/라벨 등을 가로로 배치 -->
    <top>
        <!-- HBox: 자식들을 가로로 배치, spacing=10px 간격 -->
        <HBox spacing="10">
            <!-- 상단 영역에 10px 여백을 부여 -->
            <padding>
                <!-- Insets: 위/오른쪽/아래/왼쪽 10px -->
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <!-- 고정 텍스트 라벨: "방:" -->
            <Label text="방:"/>
            <!-- 현재 방 이름을 동적으로 표기할 라벨. 컨트롤러에서 fx:id=roomLabel로 접근 -->
            <Label fx:id="roomLabel" style="-fx-font-weight: bold;"/>
            <!-- 남는 가로 공간을 모두 차지하는 빈 Pane(스페이서).
                 HBox.hgrow="ALWAYS"로 설정하여 오른쪽 요소들을 오른쪽 끝으로 밀어냄 -->
            <Pane HBox.hgrow="ALWAYS"/>
            <!-- 고정 텍스트 라벨: "참가자" -->
            <Label text="참가자"/>
        </HBox>
    </top>

    <!-- 중앙(center) 영역: 좌우로 나뉜 SplitPane(왼쪽: 채팅, 오른쪽: 사용자 목록) -->
    <center>
        <!-- SplitPane: 내부를 분할하는 컨테이너. 기본은 수평 분할(자식이 두 개면 좌우로 나뉨) -->
        <SplitPane>
            <!-- 왼쪽 영역: VBox
                 - spacing=6px 간격
                 - prefWidth=500: 선호 폭
                 - SplitPane.resizableWithParent="true": 부모 SplitPane 리사이즈에 따라 함께 크기 변함 -->
            <VBox spacing="6" prefWidth="500" SplitPane.resizableWithParent="true">
                <!-- 채팅 로그 표시용 TextArea
                     - fx:id="chatArea": 컨트롤러에서 접근
                     - editable="false": 읽기전용
                     - wrapText="true": 자동 줄바꿈
                     - VBox.vgrow="ALWAYS": 세로로 남는 공간을 우선적으로 모두 차지(로그 영역 크게) -->
                <TextArea fx:id="chatArea" editable="false" wrapText="true" VBox.vgrow="ALWAYS"/>

                <!-- 입력줄: 텍스트필드 + 전송 버튼을 가로로 배치 -->
                <HBox spacing="6">
                    <!-- 메시지 입력 TextField
                         - fx:id="messageField": 컨트롤러에서 접근
                         - HBox.hgrow="ALWAYS": 가로 공간 최대 사용(넓게)
                         - onAction="#sendMessage": 엔터키 누르면 컨트롤러의 sendMessage() 호출
                         - promptText="메시지 입력": 힌트 텍스트 -->
                    <TextField fx:id="messageField" HBox.hgrow="ALWAYS" onAction="#sendMessage" promptText="메시지 입력"/>
                    <!-- 전송 버튼
                         - text="Send": 버튼 라벨
                         - onAction="#sendMessage": 클릭 시 컨트롤러의 sendMessage() 호출 -->
                    <Button text="Send" onAction="#sendMessage"/>
                </HBox>
            </VBox>

            <!-- 오른쪽 영역: 현재 방의 사용자 목록을 표시하는 ListView
                 - fx:id="userList": 컨트롤러에서 접근
                 - prefWidth=180: 선호 폭 -->
            <ListView fx:id="userList" prefWidth="180"/>
        </SplitPane>
    </center>
</BorderPane>
